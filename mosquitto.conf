# ================================
# Mosquitto Configuration File
# ================================

# --------- Listener Settings ----------
# MQTT Port (default 1883)
listener 1883

# ให้ทุกเครื่องใน LAN เชื่อมต่อได้
bind_address 0.0.0.0

# ถ้าอยากให้เฉพาะเครื่องนี้ใช้ localhost เท่านั้น ให้เปลี่ยนเป็น:
# bind_address 127.0.0.1


# --------- Persistence (เก็บข้อความเก่าไว้) ----------
persistence true
persistence_location /var/lib/mosquitto/


# --------- Logging ----------
# บันทึก log เพื่อตรวจสอบปัญหา
log_dest file /var/log/mosquitto/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information
connection_messages true
log_timestamp true


# --------- Security (เปิดใช้ Authentication ถ้าต้องการ) ----------
# เปิดให้ทุกคนเชื่อมต่อได้ (สำหรับทดสอบ)
allow_anonymous true

# ถ้าอยากเปิดรหัสผ่าน:
# allow_anonymous false
# password_file /etc/mosquitto/passwd


# --------- WebSocket (optional สำหรับ dashboard/webapp) ----------
# listener 9001
# protocol websockets


# --------- Include extra configs ----------
# include_dir /etc/mosquitto/conf.d
